<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Gary's Blog</title><meta name="author" content="Gary"><meta name="copyright" content="Gary"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta property="og:type" content="website">
<meta property="og:title" content="Gary&#39;s Blog">
<meta property="og:url" content="https://blog.garyhuang.tw/index.html">
<meta property="og:site_name" content="Gary&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/personal_data%2FIMG_2471.JPG?alt=media&token=c27d596f-10f5-4d55-88ee-92e5352afcbe">
<meta property="article:author" content="Gary">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/personal_data%2FIMG_2471.JPG?alt=media&token=c27d596f-10f5-4d55-88ee-92e5352afcbe"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://blog.garyhuang.tw/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Gary\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-05-18 13:24:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/my.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/personal_data%2FIMG_2471.JPG?alt=media&amp;token=c27d596f-10f5-4d55-88ee-92e5352afcbe" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fa-solid fa-images"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Gary's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fa-solid fa-images"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Gary's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/garyhuang03" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:gary@garyhuang.tw" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/83f16766/" title="Linux cp 指令"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2F83f16766%2F_c66d3d35-bff0-491b-86bd-62c1b30d54cc.jpg?alt=media&amp;token=f5c4a6a2-a957-440a-ac9d-9e78bf38a783" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux cp 指令"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/83f16766/" title="Linux cp 指令">Linux cp 指令</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-05-18T05:17:48.000Z" title="Created 2024-05-18 13:17:48">2024-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Linux-command/">Linux command</a></span></div><div class="content">what is cpcp 顧名思義就是用來複製 (copy) 特定檔案或目錄的指令
複製檔案cp source_file target_file
假設當前目錄下有 file1 及 file2 檔案

複製 file1 的一份副本

1cp file1 file1.bak


複製 file2 並重新命名為 file1，由於 file1 已存在，因此會將 file1 的內容覆蓋掉

1cp file2 file1


複製 programs 目錄下所有 .c 結尾的檔案到當前目錄

1cp programs/*.c .

* 代表任意數量的字元，萬用字元的一種. 代表當前目錄
複製目錄cp -r source_file target_file-r 表示遞迴複製目錄，也可用 -R, –recursive 表示
假設當前目錄下有 src_dir 及 dest_dir 目錄

為了比較差異，先在 src_dir 目錄下創建 src_file 及 .dot_file 兩個檔案

1touch src_dir/src_file src_dir/.dot_file

註：開頭為 . 的檔案或目錄在  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/1d1d5aac/" title="HTTP 重新導向至 HTTPS"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fhttp-to-https%2F_11232664-1a90-4dbd-ad7d-c09aea7b1503.jpg?alt=media&amp;token=336c2567-8f1e-4b20-9ade-8b257dabc33b" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP 重新導向至 HTTPS"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/1d1d5aac/" title="HTTP 重新導向至 HTTPS">HTTP 重新導向至 HTTPS</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-28T10:17:04.000Z" title="Created 2024-03-28 18:17:04">2024-03-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Internet/">Internet</a></span></div><div class="content">HTTPS 的優勢
安全性：將 client 與 server 間傳遞的訊息加密，HTTPS (Hyper Text Transfer Protocol Secure) 字面意思即為更加安全的 HTTP。
提升 SEO 排名：Google 官方 已將 HTTPS 作為網站搜尋排名影響的指標之一。

強制網站執行 HTTPS 的方法加入 HSTS HeaderHSTS (HTTP Strict Transport Security): 在 response header 中加入 Strict-Transport-Security: max-age=31536000; includeSubDomains 來要求瀏覽器將 HTTP 轉為 HTTPS，但初次訪問網站時，仍有可能因為還未收到 HSTS 而使用 HTTP 連線。
123456server &#123;    listen 443 ssl;    server_name www.example.com;    add_header Strict-Transport-Security &quot;max-age=31536000; i ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/34acd922/" title="自動化安裝 LAMP"><img class="post_bg" src="https://images.unsplash.com/photo-1560170505-43f55e57739d?q=80&amp;w=1974&amp;auto=format&amp;fit=crop" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自動化安裝 LAMP"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/34acd922/" title="自動化安裝 LAMP">自動化安裝 LAMP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-12-04T09:31:48.000Z" title="Created 2023-12-04 17:31:48">2023-12-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Shell-Script/">Shell Script</a></span></div><div class="content">What are LAMP and Shell Script
LAMP 通常指的是 Linux, Apache, MySQL, PHP 用來開發 web 應用的組合包。
Shell Script 是一份純文字檔，可以將多個指令寫在一起再一次執行，來達到自動化的目的。

Automatic LAMP installation with Shell Script在 Ubuntu 22.04 一鍵安裝 LAMP + phpMyAdmin在安裝過程中，有時候要手動輸入密碼，這時使用 debconf-set-selections 能預先定義好設定值，來避免手動配置。基本使用方法: echo &quot;package-name configuration-key type value&quot; | sudo debconf-set-selections

配置 instal_lamp.sh
123456789101112131415161718192021222324252627282930313233343536#!/bin/bashsudo apt update &amp;&amp; su ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/195c6fc4/" title="CodeIgniter 用 Redis 做資料快取"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fcodeigniter-redis%2Flogo.jpg?alt=media&amp;token=48f4d671-377d-4424-944c-0a65b9c8db0b" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CodeIgniter 用 Redis 做資料快取"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/195c6fc4/" title="CodeIgniter 用 Redis 做資料快取">CodeIgniter 用 Redis 做資料快取</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-06-13T04:28:37.000Z" title="Created 2023-06-13 12:28:37">2023-06-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Redis/">Redis</a></span></div><div class="content">公司官網某個頁面需要等 10 秒以上畫面才會出來，發現是某支 API 處理時間太久，使用的框架是 PHP CodeIgniter，看了一下基本上就是一層一層疊上去的 Legacy Code，不難理解為什麼之前沒人要處理這個問題，因為任意改動可能會有更多的 side effect。
我的做法是對這支最主要的 API 做快取，若有不同的過濾條件，再使用 PHP 對快取做過濾，來避免對 Legacy Code 直接做修改，並達成速度優化。
What is RedisRedis （Remote Dictionary Server） 是一種記憶體內 (in-memory) 的 key-value 資料庫，支援多種資料型態，速度比起每次 IO 都寫入硬碟的資料庫系統來得更快。
Install Redis server on Ubuntu
安裝 redis 
1sudo apt install redis-server
使用 redis-cli 指令連線，預設使用 port 6379
1redis-cli


安裝 PHP redis
1sudo apt isntall php-redis
查看 P ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/29ce3640/" title="Laravel 存取 Google sheet"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Flaravel-google-sheet%2Fcover.png?alt=media&amp;token=f03d06bb-156c-4ccb-940f-649dfc927142" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel 存取 Google sheet"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/29ce3640/" title="Laravel 存取 Google sheet">Laravel 存取 Google sheet</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-25T03:00:29.000Z" title="Created 2023-02-25 11:00:29">2023-02-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Laravel/">Laravel</a></span></div><div class="content">今年公司開始試辦遠端工作，我幫忙做了一套符合部門遠端工作需求的系統，其中有一項功能是出勤紀錄，而目前公司請假紀錄都會在 Google sheet 上，因此需要透過存取 Google sheet 來獲得相關資料。
安裝 Laravel Google sheet 套件安裝套件
1composer require revolution/laravel-google-sheets
在 config 目錄下產生一份 google.php 檔
1php artisan vendor:publish --provider=&quot;Revolution\Google\Sheets\GoogleSheetClient&quot; --tag=&quot;config&quot;
如果上面指令無效，到以下路徑複製一份: vendor&#x2F;revolution&#x2F;laravel-google-sheets&#x2F;config&#x2F;google.php 到 config 目錄下。
配置 Google API 服務
新增專案
給專案一個名稱並建立
啟用 API 服務在搜尋列輸入: G ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/1c7e5d4e/" title="Ubuntu 使用 SSMTP 透過 Gmail 發送電子郵件"><img class="post_bg" src="https://images.unsplash.com/photo-1596526131083-e8c633c948d2" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ubuntu 使用 SSMTP 透過 Gmail 發送電子郵件"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/1c7e5d4e/" title="Ubuntu 使用 SSMTP 透過 Gmail 發送電子郵件">Ubuntu 使用 SSMTP 透過 Gmail 發送電子郵件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-18T05:11:17.000Z" title="Created 2023-02-18 13:11:17">2023-02-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a></span></div><div class="content">What is SSMTPSSMTP: send a massage using smtp. 使用 SMTP 發送訊息SMTP: Simple Mail Transfer Protocol (簡單郵件傳輸協定)，可以透過 SMTP 將訊息發送到 mail server簡單來說就是可以用 SSMTP 來發送 Gmail，幫助我們處理一些狀況，像是: 

server 登入通知信，若有陌生登入，就能夠及時發現處理
資料庫備份信，透過信件來確認是否有正常備份，來節省人工確認時間 (備份很重要)

Install and configure SSMTP安裝 SSMTP1sudo apt install ssmtp -y
配置 SSMTP1sudo vim /etc/ssmtp/ssmtp.conf
加入 Gmail 相關資訊
產生一組應用程式密碼https://support.google.com/mail/answer/185833
將產生的密碼用在 ssmtp.conf 的 AuthPass
ref: https://support.google.com/mail/answer/71262 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/6d0fe274/" title="安裝 Discord.js 及設置 Discord 機器人"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fdiscord-bot-2%2Fcover.png?alt=media&amp;token=7686e849-e6f2-492a-ab4f-205762da8214" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安裝 Discord.js 及設置 Discord 機器人"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/6d0fe274/" title="安裝 Discord.js 及設置 Discord 機器人">安裝 Discord.js 及設置 Discord 機器人</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-21T08:04:53.000Z" title="Created 2023-01-21 16:04:53">2023-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Discord-Bot/">Discord Bot</a></span></div><div class="content">環境配置可參考：https://blog.garyhuang.tw/posts/745c7824/注意 Node 版本大於 v16.9.0 即可
安裝 Discord.js
專案初始化創建一個專案目錄: discord-bot
12mkdir discord-botcd discord-bot
移至專案目錄下進行初始化，該指令會新增一個 package.js 檔，用來記錄專案相關資訊。
1npm init -y


安裝 Discord.js
1npm install discord.js



設置 Discord 機器人
前往 Discord Developer Portal 登入自己的帳號

點選右上角 “New Application” 按鈕，輸入機器人名稱，按下 Create

完成後可以看到以下畫面，在此可以編輯一些基本資訊

點選左側的 Bot 頁籤，再按下畫面右側的 Add Bot 新增機器人

按下 Yes, do it!

成功創建自己的 Discord bot 了，可以在此編輯機器人的頭像或名稱等資訊


把機器人加入 Discord server
點選左側 OA ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/745c7824/" title="Windows WSL 安裝 Ubuntu 及 Node.js"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fdiscord-bot-1%2Fwsl-cover.png?alt=media&amp;token=bfe52b1d-9ea3-45cb-9d90-10209a89dcc9" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows WSL 安裝 Ubuntu 及 Node.js"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/745c7824/" title="Windows WSL 安裝 Ubuntu 及 Node.js">Windows WSL 安裝 Ubuntu 及 Node.js</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-14T11:13:58.000Z" title="Created 2023-01-14 19:13:58">2023-01-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Discord-Bot/">Discord Bot</a></span></div><div class="content">Environment:Windows 11、WSL 2、Ubuntu 20、Node.js 18
WSL install Ubuntu 20.04ref: https://learn.microsoft.com/en-us/windows/wsl/aboutWSL (Windows Subsystem for Linux): 讓使用者能夠直接在 Windows 上運行 GNU&#x2F;Linux 環境。

在 Windows 搜尋列打上 Windows PowerShell 並以系統管理員身分執行。
安裝 WSL1wsl --install

查看可以下載的 Linux 版本1wsl --list --online

安裝 Ubuntu 20.041wsl --install -d Ubuntu-20.04

Ubuntu 相關設定會彈出一個 Ubuntu 的安裝視窗，並等待一下讓它安裝完成。設定使用者名稱、密碼，並進入 Ubuntu 環境查看 Ubuntu 版本1cat /etc/lsb-release


Ubuntu install Node.js 18ref: https: ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/29083b6f/" title="Laravel9 使用 Vite 安裝 Vue3"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fvue3-laravel9%2Fvite-vue-laravel.jpg?alt=media&amp;token=ef06a9d7-d4c1-4cec-bd57-c6f4cbeaf1ba" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel9 使用 Vite 安裝 Vue3"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/29083b6f/" title="Laravel9 使用 Vite 安裝 Vue3">Laravel9 使用 Vite 安裝 Vue3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-22T06:19:12.000Z" title="Created 2022-12-22 14:19:12">2022-12-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Laravel/">Laravel</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/Vue-js/">Vue.js</a></span></div><div class="content">前置作業請參考：https://blog.garyhuang.tw/posts/7fbb1596/運行環境：Ubuntu 22.04、Laravel 9目錄結構：
1234blog  ├── ...  ├── laradock  ├── ...

安裝 Viteref: https://laravel.com/docs/9.x/vite#installation

安裝 Node.js (16+)、NPMref: https://github.com/nodesource/distributions/blob/master/README.md#debinstall注意要安裝 16 以上的版本才行，這裡安裝 v16.x 版12sudo curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -sudo apt-get install -y nodejs
檢查版本12node -vnpm -v
安裝 Vite、Laravel plugin在 Laravel 目錄底下有一個預設的 package.json 檔，包含了 V ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/bbdb74c3/" title="N+1 Query Problem"><img class="post_bg" src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fsql-n-plus-1-problem%2Fsqlnplusone1.png?alt=media&amp;token=42e77991-7375-4cab-be5c-8df037faafaf" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="N+1 Query Problem"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/bbdb74c3/" title="N+1 Query Problem">N+1 Query Problem</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-20T03:33:44.000Z" title="Created 2022-10-20 11:33:44">2022-10-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Development/">Development</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Development/SQL/">SQL</a></span></div><div class="content">這幾天同事回報公司內部網頁載入速度太慢，研究了一下發現：網頁載入時執行了太多類似的 query，造成資料庫 I&#x2F;O 過於頻繁，進而影響到網頁載入速度。資料庫 I&#x2F;O 會從硬碟讀取資料再寫入記憶體，而硬碟的資料處理速度相對來說是慢的，因此這個過程就會造成效能上的瓶頸。
ref: https://docs.progress.com/zh-TW/bundle/openedge-database-management-122/page/Database-IO.html

Database I&#x2F;O occurs when the database engine reads and writes blocks containing records to and from disk into memory.

What is N+1 query problem假設有兩個資料表: projects、members，而一個 project 底下可以有多個 member。今天有個情況：要取得編號 1 project 底下所有 member 的 name。那這個過程可能會是：
 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/personal_data%2FIMG_2471.JPG?alt=media&amp;token=c27d596f-10f5-4d55-88ee-92e5352afcbe" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Gary</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/garyhuang03" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:gary@garyhuang.tw" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog.</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/83f16766/" title="Linux cp 指令"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2F83f16766%2F_c66d3d35-bff0-491b-86bd-62c1b30d54cc.jpg?alt=media&amp;token=f5c4a6a2-a957-440a-ac9d-9e78bf38a783" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux cp 指令"/></a><div class="content"><a class="title" href="/posts/83f16766/" title="Linux cp 指令">Linux cp 指令</a><time datetime="2024-05-18T05:17:48.000Z" title="Created 2024-05-18 13:17:48">2024-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1d1d5aac/" title="HTTP 重新導向至 HTTPS"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fhttp-to-https%2F_11232664-1a90-4dbd-ad7d-c09aea7b1503.jpg?alt=media&amp;token=336c2567-8f1e-4b20-9ade-8b257dabc33b" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP 重新導向至 HTTPS"/></a><div class="content"><a class="title" href="/posts/1d1d5aac/" title="HTTP 重新導向至 HTTPS">HTTP 重新導向至 HTTPS</a><time datetime="2024-03-28T10:17:04.000Z" title="Created 2024-03-28 18:17:04">2024-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/34acd922/" title="自動化安裝 LAMP"><img src="https://images.unsplash.com/photo-1560170505-43f55e57739d?q=80&amp;w=1974&amp;auto=format&amp;fit=crop" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自動化安裝 LAMP"/></a><div class="content"><a class="title" href="/posts/34acd922/" title="自動化安裝 LAMP">自動化安裝 LAMP</a><time datetime="2023-12-04T09:31:48.000Z" title="Created 2023-12-04 17:31:48">2023-12-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/195c6fc4/" title="CodeIgniter 用 Redis 做資料快取"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Fcodeigniter-redis%2Flogo.jpg?alt=media&amp;token=48f4d671-377d-4424-944c-0a65b9c8db0b" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CodeIgniter 用 Redis 做資料快取"/></a><div class="content"><a class="title" href="/posts/195c6fc4/" title="CodeIgniter 用 Redis 做資料快取">CodeIgniter 用 Redis 做資料快取</a><time datetime="2023-06-13T04:28:37.000Z" title="Created 2023-06-13 12:28:37">2023-06-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/29ce3640/" title="Laravel 存取 Google sheet"><img src="https://firebasestorage.googleapis.com/v0/b/hexo-blog-files.appspot.com/o/posts%2Flaravel-google-sheet%2Fcover.png?alt=media&amp;token=f03d06bb-156c-4ccb-940f-649dfc927142" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel 存取 Google sheet"/></a><div class="content"><a class="title" href="/posts/29ce3640/" title="Laravel 存取 Google sheet">Laravel 存取 Google sheet</a><time datetime="2023-02-25T03:00:29.000Z" title="Created 2023-02-25 11:00:29">2023-02-25</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/"><span class="card-category-list-name">Development</span><span class="card-category-list-count">14</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Apache/"><span class="card-category-list-name">Apache</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Discord-Bot/"><span class="card-category-list-name">Discord Bot</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Hexo/"><span class="card-category-list-name">Hexo</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Internet/"><span class="card-category-list-name">Internet</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Laravel/"><span class="card-category-list-name">Laravel</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Linux-command/"><span class="card-category-list-name">Linux command</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Development/Nginx/"><span class="card-category-list-name">Nginx</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Apache/" style="font-size: 1.1em; color: #999">Apache</a> <a href="/tags/Cache/" style="font-size: 1.1em; color: #999">Cache</a> <a href="/tags/Cloudflare/" style="font-size: 1.1em; color: #999">Cloudflare</a> <a href="/tags/CodeIgniter/" style="font-size: 1.1em; color: #999">CodeIgniter</a> <a href="/tags/Discord-js/" style="font-size: 1.23em; color: #999ea6">Discord.js</a> <a href="/tags/GitHub-Pages/" style="font-size: 1.1em; color: #999">GitHub Pages</a> <a href="/tags/Google-sheet/" style="font-size: 1.1em; color: #999">Google sheet</a> <a href="/tags/HTTP/" style="font-size: 1.1em; color: #999">HTTP</a> <a href="/tags/HTTPS/" style="font-size: 1.1em; color: #999">HTTPS</a> <a href="/tags/Hexo/" style="font-size: 1.23em; color: #999ea6">Hexo</a> <a href="/tags/LAMP/" style="font-size: 1.1em; color: #999">LAMP</a> <a href="/tags/Laradock/" style="font-size: 1.1em; color: #999">Laradock</a> <a href="/tags/Laravel/" style="font-size: 1.37em; color: #99a4b2">Laravel</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/Nginx/" style="font-size: 1.1em; color: #999">Nginx</a> <a href="/tags/Node-js/" style="font-size: 1.1em; color: #999">Node.js</a> <a href="/tags/Redis/" style="font-size: 1.1em; color: #999">Redis</a> <a href="/tags/SMTP/" style="font-size: 1.1em; color: #999">SMTP</a> <a href="/tags/SQL/" style="font-size: 1.1em; color: #999">SQL</a> <a href="/tags/SSL/" style="font-size: 1.23em; color: #999ea6">SSL</a> <a href="/tags/SSMTP/" style="font-size: 1.1em; color: #999">SSMTP</a> <a href="/tags/Shell-Script/" style="font-size: 1.1em; color: #999">Shell Script</a> <a href="/tags/Ubuntu/" style="font-size: 1.5em; color: #99a9bf">Ubuntu</a> <a href="/tags/Vite/" style="font-size: 1.1em; color: #999">Vite</a> <a href="/tags/Vue-js/" style="font-size: 1.1em; color: #999">Vue.js</a> <a href="/tags/WSL/" style="font-size: 1.1em; color: #999">WSL</a> <a href="/tags/cp/" style="font-size: 1.1em; color: #999">cp</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">May 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">March 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">December 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">June 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">14</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-05-18T05:24:34.545Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Gary</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["沒有「最好」的決定，只有在決定之後做到「最好」","A goal without a deadline is just a dream."],
      startDelay: 300,
      typeSpeed: 100,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '沒有「最好」的決定，只有在決定之後做到「最好」'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script src="/js/my.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>